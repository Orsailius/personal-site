import{S as q,i as G,s as I,k,a as O,q as C,K as L,l as y,h as f,c as w,m as R,r as F,n as v,p as J,D as g,b as D,H as P,J as K,o as Q,P as N,w as M}from"../chunks/index.af7a93c6.js";import{H as W,R as X,S as Y}from"../chunks/hsluv.6ea9c96e.js";const Z=!0,se=Object.freeze(Object.defineProperty({__proto__:null,prerender:Z},Symbol.toStringTag,{value:"Module"}));function j(r,e,s){const t=r.slice();return t[16]=e[s],t[18]=s,t}function z(r){let e,s="__",t,o,i,c;function d(){return r[8](r[18])}return{c(){e=k("button"),t=C(s),o=O(),this.h()},l(_){e=y(_,"BUTTON",{style:!0,class:!0});var a=R(e);t=F(a,s),o=w(a),a.forEach(f),this.h()},h(){v(e,"style","min-height:10vh;background: "+r[6](r[18])),v(e,"class","p-0 m-0")},m(_,a){D(_,e,a),g(e,t),g(e,o),i||(c=N(e,"click",d),i=!0)},p(_,a){r=_},d(_){_&&f(e),i=!1,c()}}}function x(r){let e,s,t,o;return{c(){e=k("button"),s=C("Record"),this.h()},l(i){e=y(i,"BUTTON",{class:!0});var c=R(e);s=F(c,"Record"),c.forEach(f),this.h()},h(){v(e,"class","btn m-2 btn-error ")},m(i,c){D(i,e,c),g(e,s),t||(o=N(e,"click",r[7]),t=!0)},p:P,d(i){i&&f(e),t=!1,o()}}}function $(r){let e,s,t,o;return{c(){e=k("button"),s=C("Stop"),this.h()},l(i){e=y(i,"BUTTON",{class:!0});var c=R(e);s=F(c,"Stop"),c.forEach(f),this.h()},h(){v(e,"class","btn btn-warning m-2")},m(i,c){D(i,e,c),g(e,s),t||(o=N(e,"click",r[7]),t=!0)},p:P,d(i){i&&f(e),t=!1,o()}}}function V(r){let e,s;return{c(){e=k("audio"),s=k("source"),this.h()},l(t){e=y(t,"AUDIO",{});var o=R(e);s=y(o,"SOURCE",{}),o.forEach(f),this.h()},h(){e.controls=!0},m(t,o){D(t,e,o),g(e,s),r[9](s),r[10](e)},p:P,d(t){t&&f(e),r[9](null),r[10](null)}}}function ee(r){let e,s,t,o,i,c,d,_,a,E,b={length:r[4].length*7},u=[];for(let n=0;n<b.length;n+=1)u[n]=z(j(r,b,n));function U(n,p){return n[0]?$:x}let T=U(r),m=T(r),h=r[1]&&V(r);return{c(){e=k("meta"),s=O(),t=k("div"),o=k("h1"),i=C("Funky Piano"),c=O(),d=k("div");for(let n=0;n<u.length;n+=1)u[n].c();_=O(),a=k("div"),m.c(),E=O(),h&&h.c(),this.h()},l(n){const p=L("svelte-y2k6hk",document.head);e=y(p,"META",{name:!0,content:!0}),p.forEach(f),s=w(n),t=y(n,"DIV",{class:!0,style:!0});var l=R(t);o=y(l,"H1",{class:!0});var S=R(o);i=F(S,"Funky Piano"),S.forEach(f),c=w(l),d=y(l,"DIV",{class:!0});var B=R(d);for(let H=0;H<u.length;H+=1)u[H].l(B);B.forEach(f),_=w(l),a=y(l,"DIV",{class:!0});var A=R(a);m.l(A),E=w(A),h&&h.l(A),A.forEach(f),l.forEach(f),this.h()},h(){document.title="Funky Piano",v(e,"name","description"),v(e,"content","Play that funky music"),v(o,"class","text-4xl pt-8 font-semibold text-center"),v(d,"class","grid grid-cols-12 gap-0 grid-flow-dense m-2"),v(a,"class","flex"),v(t,"class","bg-base-100 h-full"),J(t,"min-height","92.25vh")},m(n,p){g(document.head,e),D(n,s,p),D(n,t,p),g(t,o),g(o,i),g(t,c),g(t,d);for(let l=0;l<u.length;l+=1)u[l]&&u[l].m(d,null);g(t,_),g(t,a),m.m(a,null),g(a,E),h&&h.m(a,null)},p(n,[p]){if(p&96){b={length:n[4].length*7};let l;for(l=0;l<b.length;l+=1){const S=j(n,b,l);u[l]?u[l].p(S,p):(u[l]=z(S),u[l].c(),u[l].m(d,null))}for(;l<u.length;l+=1)u[l].d(1);u.length=b.length}T===(T=U(n))&&m?m.p(n,p):(m.d(1),m=T(n),m&&(m.c(),m.m(a,E))),n[1]?h?h.p(n,p):(h=V(n),h.c(),h.m(a,null)):h&&(h.d(1),h=null)},i:P,o:P,d(n){f(e),n&&f(s),n&&f(t),K(u,n),m.d(),h&&h.d()}}}function te(r,e,s){const t=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];let o=new W,i,c,d=!1,_=!1,a,E,b;Q(()=>{c=new X,i=new Y().connect(c).toDestination()});function u(l){const S=U(l);i.triggerAttackRelease(S,"8n")}function U(l){return t[l%t.length]+(Math.floor(l/t.length)+1)}function T(l){return o.hsluv_h=360*(l%t.length)/12,o.hsluv_s=80,o.hsluv_l=100*(l/t.length/(t.length+1)+1/13),o.hsluvToHex(),o.hex}async function m(){if(d){s(1,_=!0),a=await c.stop(),console.log("Recording sizE: "+a.size);const l=URL.createObjectURL(a);s(3,b.src=l,b),E.load()}else c.start();s(0,d=!d)}const h=l=>u(l);function n(l){M[l?"unshift":"push"](()=>{b=l,s(3,b)})}function p(l){M[l?"unshift":"push"](()=>{E=l,s(2,E)})}return[d,_,E,b,t,u,T,m,h,n,p]}class oe extends q{constructor(e){super(),G(this,e,te,ee,I,{})}}export{oe as component,se as universal};
